# Weight and Water Content Changes During Food Preparation
## Comprehensive Analysis for Nutrition Tracking Systems

**Research Date:** 2025-11-06
**Status:** Comprehensive Research Report
**Focus:** Raw vs Cooked Weight Conversions, Water Content Changes, and Nutrition Tracking Implications

---

## Executive Summary

Weight changes during food preparation significantly impact nutrition tracking accuracy. The primary mechanisms are:

1. **Water loss** (concentration): Nutrients become more concentrated per gram
2. **Water gain** (dilution): Nutrients become less concentrated per gram but total nutrients remain similar
3. **Fat rendering**: Loss of fat and calories when drippings are discarded
4. **Trimming/waste**: Removal of non-edible portions

**Critical Finding:** The total amount of nutrients (protein, fat, minerals, etc.) generally remains constant during cooking - only water weight changes. However, heat-sensitive vitamins (C, B-complex) can degrade, and fat rendering can remove significant calories when drippings are discarded.

**Best Practice Recommendation:** Track foods by **raw weight** whenever possible, using raw nutrition data. This eliminates variability from cooking methods and provides the most accurate nutrition tracking.

---

## 1. Water Loss (Dehydration/Concentration)

When foods lose water through cooking, nutrients become MORE CONCENTRATED per gram of food.

### 1.1 Meat, Poultry, and Fish

**General Principle:** Proteins typically lose 15-35% of their weight during cooking, primarily through water evaporation.

#### Conversion Factors (Raw → Cooked)

| Food | Cooking Method | Raw to Cooked Multiplier | Weight Loss % | Example |
|------|---------------|-------------------------|---------------|---------|
| **Chicken Breast** | Grilled/Baked | 0.75 | 25% | 100g raw → 75g cooked |
| **Chicken Breast** | Poached/Boiled | 0.85 | 15% | 100g raw → 85g cooked |
| **Beef Steak** | Grilled/Broiled | 0.70 | 30% | 100g raw → 70g cooked |
| **Ground Beef (80/20)** | Pan-fried | 0.65 | 35% | 100g raw → 65g cooked |
| **Ground Beef (95/5)** | Pan-fried | 0.73 | 27% | 100g raw → 73g cooked |
| **Pork Chops** | Grilled/Baked | 0.72 | 28% | 100g raw → 72g cooked |
| **Fish Fillet (salmon, cod)** | Baked/Grilled | 0.80 | 20% | 100g raw → 80g cooked |
| **Bacon** | Pan-fried | 0.40-0.50 | 50-60% | 100g raw → 40-50g cooked* |

*Note: Bacon loss includes both water evaporation AND fat rendering (see Section 3)

**Key Variables Affecting Conversion:**
- **Cooking temperature:** Higher heat = more moisture loss
- **Cooking time:** Longer cooking = more moisture loss
- **Cooking method:** Dry heat (grilling, roasting) > moist heat (poaching, steaming)
- **Fat content:** Higher fat meats lose more weight (water + rendered fat)
- **Starting moisture:** Fresh meat loses more than previously frozen

#### Nutrition Impact Example:

**100g Raw Chicken Breast:**
- Weight: 100g
- Protein: 23g
- Protein density: 23g per 100g = 23%

**After Grilling (75g Cooked):**
- Weight: 75g
- Protein: 23g (unchanged)
- Protein density: 23g per 75g = 30.7%

**Important:** If you weigh cooked chicken (75g) but use raw nutrition data (23g protein per 100g), you'll underestimate protein by 25%.

### 1.2 Vegetables

**General Principle:** Vegetables lose 15-30% of their weight through water evaporation, depending on initial water content and cooking method.

#### Conversion Factors (Raw → Cooked)

| Vegetable | Cooking Method | Raw to Cooked Multiplier | Weight Loss % | Initial Water Content |
|-----------|---------------|-------------------------|---------------|--------------------|
| **Spinach** | Sautéed/Wilted | 0.15-0.20 | 80-85% | ~91% water |
| **Spinach** | Steamed | 0.30 | 70% | ~91% water |
| **Broccoli** | Roasted | 0.75-0.80 | 20-25% | ~89% water |
| **Broccoli** | Steamed | 0.85-0.90 | 10-15% | ~89% water |
| **Zucchini** | Roasted | 0.70-0.75 | 25-30% | ~95% water |
| **Zucchini** | Grilled | 0.65-0.70 | 30-35% | ~95% water |
| **Mushrooms** | Sautéed | 0.50-0.60 | 40-50% | ~92% water |
| **Bell Peppers** | Roasted | 0.75-0.80 | 20-25% | ~92% water |
| **Carrots** | Roasted | 0.85-0.90 | 10-15% | ~88% water |
| **Kale** | Sautéed | 0.25-0.30 | 70-75% | ~84% water |

**Key Variables Affecting Conversion:**
- **Initial water content:** Higher water vegetables (spinach, zucchini) lose more weight
- **Cooking method:** Roasting/grilling > steaming/boiling for weight loss
- **Cut size:** Smaller pieces lose more water (more surface area)
- **Cooking temperature:** Higher heat = more evaporation
- **Oil usage:** Oil adds weight, offsetting some water loss

#### Nutrition Impact:

Vegetables concentrate in nutrients per gram when roasted. A 100g portion of raw broccoli might contain 3g protein; when roasted to 80g, it still contains ~3g protein (now 3.75g per 100g).

**Critical Consideration:** Overlapping vegetables or multiple layers trap moisture, reducing weight loss and causing sogginess.

### 1.3 Baking and Dehydration

#### Bread and Baked Goods

| Product | Raw to Baked Multiplier | Weight Loss % | Notes |
|---------|------------------------|---------------|--------|
| **Bread Dough** | 0.85-0.90 | 10-15% | Moisture evaporation |
| **Cake Batter** | 0.90-0.95 | 5-10% | Protected by batter |
| **Cookie Dough** | 0.85-0.90 | 10-15% | Surface evaporation |

#### Dehydrated Foods

**Most Extreme Water Loss:** 70-94% weight reduction

| Food | Fresh Weight | Dried Weight | Multiplier | Moisture Removed |
|------|-------------|--------------|------------|------------------|
| **Apricots** | 100g | 25g | 0.25 | ~75% |
| **Apples** | 100g | 15g | 0.15 | ~85% |
| **Broccoli** | 100g (89% water) | 11g | 0.11 | ~89% |
| **Carrots** | 100g (88% water) | 12g | 0.12 | ~88% |
| **Oranges** | 100g (86% water) | 14g | 0.14 | ~86% |

**Nutrient Concentration Example:**

**100g Fresh Apricots:**
- Calories: 51 kcal
- Sugar: 9g
- Fiber: 2g
- Vitamin C: 10mg

**100g Dried Apricots (25g fresh equivalent):**
- Calories: 260 kcal (5× concentrated)
- Sugar: 38g (4× concentrated)
- Fiber: 7g (3.5× concentrated)
- Vitamin C: ~1mg (90% lost to heat/oxidation)

**Key Point:** Minerals, fiber, and protein remain stable; heat-sensitive vitamins (C, B-complex) degrade significantly (50-90% loss).

### 1.4 Sauce Reduction

**Principle:** Simmering sauces evaporates water, concentrating flavors and calories without altering total nutrient content.

**Conversion Factor:** Variable, typically 0.50-0.75 (25-50% reduction)

**Example:**
- **Before:** 400ml tomato sauce, 200 kcal total = 0.5 kcal/ml
- **After 50% reduction:** 200ml tomato sauce, 200 kcal total = 1.0 kcal/ml

**Critical for Tracking:** Always track by volume or weight AFTER reduction, using appropriate nutrition data for reduced sauces. A "reduced balsamic" has 2-3× the calories per ml compared to regular balsamic vinegar.

**Nutrient Loss:** Water-soluble vitamins (B-complex, vitamin C) can leach during extended simmering (10-40% loss).

---

## 2. Water Gain (Dilution/Rehydration)

When foods absorb water during cooking, nutrients become LESS CONCENTRATED per gram, but total nutrients remain similar.

### 2.1 Pasta

**General Rule:** Dry pasta absorbs water and approximately **doubles to triples** in weight.

#### Conversion Factors (Dry → Cooked)

| Pasta Type | Dry to Cooked Multiplier | Weight Gain % | Example |
|-----------|-------------------------|---------------|---------|
| **White Pasta (al dente)** | 2.25 | 125% | 100g dry → 225g cooked |
| **White Pasta (normal)** | 2.40-2.50 | 140-150% | 100g dry → 240-250g cooked |
| **Whole Wheat Pasta** | 2.20-2.30 | 120-130% | 100g dry → 220-230g cooked |
| **Overcooked Pasta** | 2.60-2.80 | 160-180% | 100g dry → 260-280g cooked |

**Nutrition Impact Example:**

**100g Dry Pasta:**
- Weight: 100g
- Calories: 350 kcal
- Protein: 12g
- Carbs: 70g

**After Cooking (240g Cooked):**
- Weight: 240g
- Calories: 350 kcal (unchanged)
- Protein: 12g (unchanged)
- Carbs: 70g (unchanged)
- **Calorie density:** 350 kcal / 240g = 1.46 kcal/g (was 3.5 kcal/g dry)

**Critical Tracking Error:** If you weigh cooked pasta (240g) and log it as dry pasta (100g = 350 kcal), you've logged correctly. BUT if you log 240g of "pasta" using dry data (240g × 3.5 kcal/g = 840 kcal), you've overestimated by 140%.

### 2.2 Rice

**General Rule:** Dry rice absorbs water and approximately **triples** in weight.

#### Conversion Factors (Dry → Cooked)

| Rice Type | Dry to Cooked Multiplier | Weight Gain % | Example |
|-----------|-------------------------|---------------|---------|
| **White Rice** | 2.90-3.00 | 190-200% | 100g dry → 290-300g cooked |
| **Brown Rice** | 2.30-2.50 | 130-150% | 100g dry → 230-250g cooked |
| **Basmati Rice** | 3.00-3.10 | 200-210% | 100g dry → 300-310g cooked |
| **Jasmine Rice** | 2.80-3.00 | 180-200% | 100g dry → 280-300g cooked |

**Water Absorption Mechanism:** Starch molecules are hydrophilic (water-attracting). As rice cooks, water molecules penetrate between starch chains, causing them to swell.

**Nutrition Impact Example:**

**75g Dry White Rice:**
- Weight: 75g
- Calories: 270 kcal
- Carbs: 60g

**After Cooking (225g Cooked):**
- Weight: 225g (3× multiplier)
- Calories: 270 kcal (unchanged)
- Carbs: 60g (unchanged)
- **Carb density:** 60g / 225g = 26.7g carbs per 100g cooked (was 80g per 100g dry)

### 2.3 Oats

**Conversion:** Dry oats absorb water during cooking, approximately **doubling to tripling** in weight.

| Oat Type | Dry to Cooked Multiplier | Example |
|----------|-------------------------|---------|
| **Rolled Oats** | 2.50-3.00 | 50g dry → 125-150g cooked |
| **Steel-Cut Oats** | 3.00-4.00 | 50g dry → 150-200g cooked |
| **Instant Oats** | 2.00-2.50 | 50g dry → 100-125g cooked |

**Important for Tracking:** Most nutrition labels provide data for dry oats. If you weigh cooked oatmeal, divide by 2.5-3 to estimate dry equivalent.

**Example:**
- 150g cooked oatmeal ÷ 2.75 (average multiplier) = ~55g dry oats equivalent
- 55g dry oats = ~210 kcal

### 2.4 Beans and Legumes

**General Rule:** Dry beans/legumes absorb water during soaking and cooking, approximately **doubling to tripling** in weight.

#### Conversion Factors (Dry → Soaked+Cooked)

| Bean/Legume Type | Dry to Cooked Multiplier | Weight Gain % | Example |
|-----------------|-------------------------|---------------|---------|
| **Kidney Beans** | 2.90-3.10 | 190-210% | 100g dry → 290-310g cooked |
| **Black Beans** | 2.40-2.60 | 140-160% | 100g dry → 240-260g cooked |
| **Chickpeas** | 2.10-2.25 | 110-125% | 100g dry → 210-225g cooked |
| **Lentils (red)** | 2.00-2.20 | 100-120% | 100g dry → 200-220g cooked |
| **Lentils (green)** | 2.20-2.50 | 120-150% | 100g dry → 220-250g cooked |
| **Black-Eyed Peas** | 2.30-2.50 | 130-150% | 100g dry → 230-250g cooked |

#### Two-Stage Process:

**Stage 1 - Soaking (12-24 hours):**
- Weight approximately **doubles**
- Example: 100g dry kidney beans → 200g soaked beans
- Water gain: ~100% (100g water absorbed)

**Stage 2 - Cooking:**
- Weight increases further by 40-55%
- Example: 200g soaked beans → 290-310g cooked beans
- Additional water gain: ~90-110g

**Total:** 100g dry → 290-310g cooked (190-210% gain)

**Nutrition Impact Example:**

**100g Dry Kidney Beans:**
- Weight: 100g
- Calories: 330 kcal
- Protein: 24g
- Carbs: 60g
- Fiber: 15g

**After Cooking (300g Cooked):**
- Weight: 300g
- Calories: 330 kcal (unchanged)
- Protein: 24g (unchanged)
- Carbs: 60g (unchanged)
- Fiber: 15g (unchanged)
- **Calorie density:** 330 kcal / 300g = 1.1 kcal/g (was 3.3 kcal/g dry)

**Critical Note:** Canned beans are pre-cooked. Use cooked weight data when tracking canned beans.

### 2.5 Quinoa and Other Grains

| Grain | Dry to Cooked Multiplier | Example |
|-------|-------------------------|---------|
| **Quinoa** | 3.00-3.50 | 100g dry → 300-350g cooked |
| **Couscous** | 2.00-2.50 | 100g dry → 200-250g cooked |
| **Bulgur Wheat** | 2.50-3.00 | 100g dry → 250-300g cooked |
| **Farro** | 2.50-3.00 | 100g dry → 250-300g cooked |
| **Barley** | 3.00-3.50 | 100g dry → 300-350g cooked |

---

## 3. Fat Rendering

**Definition:** Fat rendering is the process of heating fatty tissue to melt out liquid fat, which can then drain away or be discarded.

**Critical Impact:** Unlike water weight changes, fat rendering REMOVES CALORIES and nutrients from the food when drippings are discarded.

### 3.1 Bacon

**Most Dramatic Fat Loss:** 50-60% total weight loss (30-40% fat rendering + 10-20% water evaporation)

**Conversion Example:**

**100g Raw Bacon:**
- Weight: 100g
- Calories: 540 kcal
- Fat: 50g (450 kcal from fat)
- Protein: 12g

**Cooked Bacon (40-50g retained, 50-60g drippings discarded):**

If drippings are discarded:
- **Retained:** 45g cooked bacon
- **Estimated composition:** ~12g protein, ~15g fat, ~5g water
- **Estimated calories:** ~195 kcal
- **Fat/calories lost:** ~35g fat (~315 kcal) in drippings

**Key Variables:**
- **Cooking method:** Baking vs pan-frying affects drainage
- **Temperature:** Lower heat = less rendering
- **Bacon type:** Regular vs thick-cut vs turkey bacon
- **Dripping disposal:** If drippings are kept and consumed, calories remain

**Tracking Implication:** Using "raw bacon" data for cooked bacon will overestimate calories by ~280% if drippings were discarded.

### 3.2 Ground Beef

**Fat Loss:** Varies significantly by initial fat percentage and cooking method.

**Conversion Examples:**

**80% Lean Ground Beef (100g raw):**
- Raw: 100g, ~254 kcal, 20g fat, 17g protein
- Cooked (fat drained): ~65g, ~195 kcal, 11g fat, 17g protein
- Fat lost to drippings: ~9g fat (~81 kcal)

**95% Lean Ground Beef (100g raw):**
- Raw: 100g, ~137 kcal, 5g fat, 21g protein
- Cooked (fat drained): ~73g, ~125 kcal, 3g fat, 21g protein
- Fat lost to drippings: ~2g fat (~18 kcal)

**Enhanced Draining Methods:**

Studies show that cooking ground beef and then **blotting with paper towels** or even **rinsing with hot water** can reduce fat content close to 90% lean levels, even when starting with 80% lean beef.

**Before Draining (80% lean, cooked):**
- Fat content: 22.6g per cooked patty

**After Draining (80% lean, pan-broiled & blotted):**
- Fat content: 15g per cooked patty
- Reduction: ~33% fat removed

**After Draining + Rinsing (80% lean, crumbled, drained, rinsed):**
- Fat content: ~10g per portion
- Achieves near 90% lean composition

### 3.3 Roasted Meats and Poultry

**Fat Rendering in Roasting:** Drippings collect in pan and can be discarded or used for sauces/gravies.

**Typical Fat Loss When Drippings Discarded:**

| Meat | Initial Fat % | Fat Lost to Drippings | Weight Loss (total) |
|------|---------------|----------------------|---------------------|
| **Pork Shoulder** | ~20% | 5-8% of total weight | 25-35% |
| **Duck Breast** | ~35% | 10-15% of total weight | 35-45% |
| **Lamb Leg** | ~15% | 3-5% of total weight | 20-28% |
| **Chicken Thigh (skin-on)** | ~15% | 4-6% of total weight | 25-30% |
| **Chicken Breast (skinless)** | ~3% | <1% of total weight | 20-25% |

**Example - Roasted Chicken Thigh:**

**200g Raw Chicken Thigh (skin-on, bone-in):**
- Weight: 200g
- Edible portion: ~140g (30% bone/trim waste)
- Calories: ~230 kcal
- Fat: 16g
- Protein: 19g

**After Roasting (drippings in pan):**
- Cooked weight: ~145g total (bone + meat)
- Edible cooked meat: ~105g
- If drippings discarded: ~170 kcal, ~10g fat, ~19g protein
- **Fat loss:** ~6g fat (~54 kcal) in drippings

**Tracking Consideration:** Distinguish between "chicken thigh with skin, raw" vs "chicken thigh with skin, roasted, drippings discarded" vs "chicken thigh, skin removed."

### 3.4 Fat Rendering Summary

**Key Principles:**

1. **Water loss** changes weight but not total nutrients
2. **Fat rendering** changes both weight AND total calories/nutrients if drippings are discarded
3. **Rendered fat** can be saved and used (bacon fat, duck fat) - if consumed, calories are retained
4. **Tracking requires knowing:** Was fat drained? Was it discarded or consumed?

**Recommendation for Databases:**

Create separate entries:
- "Bacon, raw"
- "Bacon, cooked, drippings retained" (similar calories per 100g raw)
- "Bacon, cooked, drippings discarded" (50-60% fewer calories)

---

## 4. Raw vs Cooked Weight Conversions - Master Table

**How to Use This Table:**
- **Raw → Cooked:** Multiply raw weight by the multiplier
- **Cooked → Raw:** Divide cooked weight by the multiplier

### 4.1 Proteins

| Food | Cooking Method | Raw → Cooked Multiplier | Example: 100g Raw → |
|------|---------------|------------------------|---------------------|
| Chicken breast | Grilled/Baked | 0.75 | 75g cooked |
| Chicken breast | Poached | 0.85 | 85g cooked |
| Chicken thigh | Roasted | 0.70 | 70g cooked |
| Beef steak | Grilled (medium) | 0.70 | 70g cooked |
| Beef steak | Grilled (rare) | 0.80 | 80g cooked |
| Beef steak | Grilled (well-done) | 0.65 | 65g cooked |
| Ground beef (80/20) | Pan-fried, drained | 0.65 | 65g cooked |
| Ground beef (95/5) | Pan-fried, drained | 0.73 | 73g cooked |
| Pork chops | Grilled | 0.72 | 72g cooked |
| Pork tenderloin | Roasted | 0.75 | 75g cooked |
| Salmon fillet | Baked/Grilled | 0.80 | 80g cooked |
| White fish (cod, halibut) | Baked | 0.75 | 75g cooked |
| Shrimp | Boiled | 0.85 | 85g cooked |
| Bacon | Pan-fried | 0.45 | 45g cooked* |

*Assumes drippings discarded

### 4.2 Grains & Starches (Dry → Cooked)

| Food | Cooking Method | Dry → Cooked Multiplier | Example: 100g Dry → |
|------|---------------|------------------------|---------------------|
| White rice | Boiled | 3.00 | 300g cooked |
| Brown rice | Boiled | 2.50 | 250g cooked |
| Pasta (white) | Boiled (al dente) | 2.25 | 225g cooked |
| Pasta (white) | Boiled (normal) | 2.50 | 250g cooked |
| Pasta (whole wheat) | Boiled | 2.30 | 230g cooked |
| Oats (rolled) | Cooked | 2.75 | 275g cooked |
| Quinoa | Boiled | 3.25 | 325g cooked |
| Couscous | Steamed | 2.25 | 225g cooked |
| Lentils (red) | Boiled | 2.10 | 210g cooked |
| Lentils (green) | Boiled | 2.35 | 235g cooked |
| Chickpeas | Soaked + Boiled | 2.20 | 220g cooked |
| Kidney beans | Soaked + Boiled | 3.00 | 300g cooked |
| Black beans | Soaked + Boiled | 2.50 | 250g cooked |

### 4.3 Vegetables

| Vegetable | Cooking Method | Raw → Cooked Multiplier | Example: 100g Raw → |
|-----------|---------------|------------------------|---------------------|
| Spinach | Sautéed | 0.20 | 20g cooked |
| Spinach | Steamed | 0.30 | 30g cooked |
| Broccoli | Roasted | 0.80 | 80g cooked |
| Broccoli | Steamed | 0.90 | 90g cooked |
| Zucchini | Roasted | 0.70 | 70g cooked |
| Mushrooms | Sautéed | 0.55 | 55g cooked |
| Bell peppers | Roasted | 0.80 | 80g cooked |
| Carrots | Roasted | 0.90 | 90g cooked |
| Kale | Sautéed | 0.28 | 28g cooked |
| Asparagus | Grilled | 0.80 | 80g cooked |
| Brussels sprouts | Roasted | 0.85 | 85g cooked |

---

## 5. Trimming and Waste

Non-edible portions affect the actual consumed nutrition.

### 5.1 Bone-in vs Boneless

**Definition:** Bone-in cuts include bones that are not consumed. Boneless cuts have bones removed before sale.

**Impact:** The edible portion of bone-in cuts is significantly less than the total weight.

#### Edible Portion Percentages

| Cut Type | Bone % (Waste) | Edible Portion % | Example: 200g Total → |
|----------|----------------|------------------|----------------------|
| **Chicken thigh (bone-in)** | 30% | 70% | 140g edible |
| **Chicken drumstick (bone-in)** | 35% | 65% | 130g edible |
| **Chicken wing (bone-in)** | 40% | 60% | 120g edible |
| **Pork chop (bone-in)** | 15% | 85% | 170g edible |
| **Lamb chop (bone-in)** | 20% | 80% | 160g edible |
| **Beef short rib (bone-in)** | 30-40% | 60-70% | 120-140g edible |
| **Fish (whole, with bones)** | 50-60% | 40-50% | 80-100g edible |

**Tracking Implication:**

If you purchase 200g bone-in chicken thigh and track "200g chicken thigh," you're overestimating nutrition by ~30%.

**Solutions:**
1. Use database entries specific to "bone-in" or "boneless"
2. Weigh only the edible portion after removing bones
3. Apply edible portion percentage (200g × 70% = 140g edible)

**Yield Comparison:**

**Bone-in Cuts (regularly trimmed):**
- Yield: 65-75% of aged carcass weight as retail product

**Boneless Cuts (closely trimmed):**
- Yield: 43-50% of aged carcass weight as retail product
- Additional 30-40% lost as fat trim and bone removal

### 5.2 Fat Trimming (Before Cooking)

| Cut | Trimming Level | Fat Removed | Calorie Reduction |
|-----|---------------|-------------|-------------------|
| **Beef steak** | Untrimmed → Trimmed (¼" fat) | ~10% of weight | ~15-20% calories |
| **Beef steak** | Trimmed (¼") → Closely trimmed | ~5% of weight | ~8-12% calories |
| **Pork chop** | Untrimmed → Trimmed | ~8% of weight | ~12-15% calories |
| **Lamb chop** | Untrimmed → Trimmed | ~15% of weight | ~20-25% calories |

**Example:**

**200g Untrimmed Ribeye Steak:**
- Weight: 200g
- Fat content: ~25% (50g fat)
- Calories: ~550 kcal

**After Trimming Visible Fat:**
- Weight: ~180g (20g fat trimmed)
- Fat content: ~20% (36g fat)
- Calories: ~420 kcal
- **Calorie reduction:** ~24%

### 5.3 Peeling and Seeds

**Vegetables & Fruits:**

| Food | Waste Portion | Waste % | Edible % | Example: 100g Whole → |
|------|---------------|---------|----------|----------------------|
| **Banana** | Peel | 35% | 65% | 65g edible |
| **Orange** | Peel + pith | 30% | 70% | 70g edible |
| **Avocado** | Skin + pit | 25% | 75% | 75g edible |
| **Mango** | Skin + pit | 30% | 70% | 70g edible |
| **Potato (peeled)** | Skin | 10% | 90% | 90g edible |
| **Carrot (peeled)** | Skin | 5% | 95% | 95g edible |
| **Apple (with core removed)** | Core + seeds | 10% | 90% | 90g edible |
| **Watermelon** | Rind | 40% | 60% | 60g edible flesh |

**Tracking Considerations:**

- **Whole weight databases:** Some entries use "whole fruit with peel" weights
- **Edible portion databases:** Some entries use "flesh only" weights
- **USDA standard:** Most USDA entries specify whether they include refuse (peel, seeds, bones)

**Example - Banana:**

**USDA Entry:** "Banana, raw" = per 100g edible portion (peel removed)
- If you weigh a whole banana (150g with peel), edible portion = ~100g
- Track as "100g banana" not "150g banana"

### 5.4 Canned Foods - Drained Weight

**Canned beans, vegetables, tuna:**

| Canned Food | Total Can Weight | Drained Weight % | Liquid Drained % |
|-------------|-----------------|------------------|------------------|
| **Beans (kidney, black, etc.)** | 400g can | 60% (240g) | 40% (160g) |
| **Chickpeas** | 400g can | 60% (240g) | 40% (160g) |
| **Corn** | 340g can | 65% (220g) | 35% (120g) |
| **Tuna in water** | 145g can | 70% (100g) | 30% (45g) |
| **Tuna in oil** | 145g can | 80% (115g) | 20% (30g) |

**Tracking Critical Rule:** Always drain canned foods before weighing (unless consuming the liquid) and use "drained weight" nutrition data.

**Example:**

**400g Can of Kidney Beans:**
- Total weight: 400g
- Drained weight: 240g
- Nutrition label: "per 100g drained beans"

If you track "400g kidney beans," you're overestimating by 67%.

---

## 6. How Weight Changes Affect Nutrition Calculations

### 6.1 The Core Principle

**Nutrients don't disappear during cooking (except heat-sensitive vitamins and rendered fat).**

- **Protein, carbs, fiber, minerals:** Remain constant
- **Fat:** Remains constant UNLESS rendered and discarded
- **Water-soluble vitamins (C, B-complex):** Degrade with heat (10-60% loss)
- **Fat-soluble vitamins (A, D, E, K):** Mostly stable unless fat is discarded

### 6.2 The Danger of Mismatched Weight-to-Data

**Scenario 1: Weighing Cooked, Using Raw Data**

Example: Chicken Breast
- You weigh 150g cooked chicken breast
- You log "150g chicken breast, raw" data (31g protein per 100g)
- **Calculated:** 150g × 0.31 = 46.5g protein
- **Actual:** Chicken shrinks to 75% when cooked, so 150g cooked = 200g raw equivalent
- **Should be:** 200g × 0.31 = 62g protein
- **Error:** Underestimated by 33%

**Scenario 2: Weighing Raw, Using Cooked Data**

Example: Pasta
- You weigh 100g dry pasta
- You log "100g pasta, cooked" data (4g protein per 100g cooked)
- **Calculated:** 100g × 0.04 = 4g protein
- **Actual:** Dry pasta has 12g protein per 100g
- **Should be:** 100g × 0.12 = 12g protein
- **Error:** Underestimated by 200%

### 6.3 USDA Nutrient Retention Factors

**Released 2007 (still current as of 2025):** USDA maintains retention factors for 26 vitamins and minerals across ~290 foods and various cooking methods.

**Key Findings:**

| Nutrient | Retention Range (Cooking Method Dependent) | Most Vulnerable Method |
|----------|-------------------------------------------|----------------------|
| **Vitamin C** | 40-90% retained | Boiling (40-60% retained) |
| **Folate (B9)** | 50-90% retained | Boiling (50-70% retained) |
| **Thiamin (B1)** | 60-90% retained | Boiling (60-80% retained) |
| **Riboflavin (B2)** | 70-95% retained | Boiling (70-85% retained) |
| **Niacin (B3)** | 80-100% retained | Stable across methods |
| **Vitamin B6** | 70-90% retained | Boiling (70-80% retained) |
| **Vitamin B12** | 80-100% retained | Stable across methods |
| **Vitamin A** | 85-100% retained | Stable |
| **Vitamin E** | 85-100% retained | Stable |
| **Calcium** | 95-100% retained | Very stable |
| **Iron** | 95-100% retained | Very stable |
| **Zinc** | 95-100% retained | Very stable |
| **Magnesium** | 90-100% retained | Stable |
| **Potassium** | 70-90% retained | Leaches into water |

**Critical Insight:** Minerals are highly stable. Water-soluble vitamins (especially C and folate) are most vulnerable, particularly with boiling.

---

## 7. Implications for Nutrition Tracking Systems

### 7.1 Core Challenge

**Problem:** Food weight changes during cooking create ambiguity:
- Did the user weigh raw or cooked?
- Which database entry should be used?
- How to prevent tracking errors?

**Impact of Errors:**
- Underestimating protein by 25-33% (weighing cooked, logging raw data)
- Overestimating carbs by 150-250% (weighing dry grains, logging cooked data)
- Misrepresenting calories by 50-300% (fat rendering not accounted for)

### 7.2 Current Database Standards

**USDA FoodData Central (Gold Standard):**
- Explicitly labels entries as "raw," "cooked," "boiled," "grilled," etc.
- Provides separate entries for each preparation method
- Example: "Chicken, broilers or fryers, breast, meat only, raw" vs "Chicken, broilers or fryers, breast, meat only, cooked, roasted"

**MyFitnessPal and Similar Apps:**
- Mix of USDA data + user-generated entries
- **Critical Problem:** User-generated entries are inconsistent
  - One user logs "grilled chicken" using raw weight
  - Another logs "grilled chicken" using cooked weight
  - Database becomes unreliable

**Manufacturer Labels:**
- Usually provide data for "as packaged" state
- Pasta labels: typically dry weight per serving
- Rice labels: typically dry weight per serving
- Frozen meat: typically raw weight per serving

### 7.3 User Behavior Challenges

**When do users weigh food?**

1. **Meal prep (raw):** Users preparing their own meals typically weigh ingredients raw before cooking
2. **Restaurant/takeout (cooked):** Food is already prepared; only cooked weight is available
3. **Batch cooking (mixed):** User cooks 500g raw chicken, eats 150g cooked - which weight to use?
4. **Leftovers (cooked):** Reheating previously cooked food - only cooked weight available

**Inconsistency is inevitable** unless the system guides users clearly.

---

## 8. Recommendations for Nutrition Tracking Systems

### 8.1 Strategy 1: Raw Weight Standard (Recommended)

**Principle:** Default to tracking all foods by raw weight using raw nutrition data.

**Advantages:**
- ✅ Eliminates cooking method variability
- ✅ Aligns with USDA standards and nutrition labels
- ✅ Most accurate for home-cooked meals
- ✅ Easier to track ingredients in recipes
- ✅ Consistent across all foods

**Disadvantages:**
- ❌ Doesn't work for restaurant/takeout meals
- ❌ Requires user to weigh before cooking
- ❌ Difficult for batch-cooked meals

**Implementation:**

1. **Database entries:** Prioritize "raw" entries; clearly label all entries as "raw" or "cooked"

2. **User interface:**
   - Prompt users: "Weigh food in its raw state before cooking"
   - For common foods, show images: "Weigh your chicken breast BEFORE grilling"

3. **Conversion calculator:**
   - If user must weigh cooked, provide converter: "I weighed 150g cooked chicken breast" → Auto-calculates "200g raw equivalent"

4. **Recipe builder:**
   - Input all ingredients as raw weights
   - Calculate total nutrition
   - Divide by portions (output is nutrition per portion of cooked food)

**Example Workflow:**

```
User: "I'm cooking chicken breast for dinner"
App: "Weigh your raw chicken before cooking"
User: *weighs 200g raw chicken breast*
App: "Log 200g chicken breast, raw"
Result: 62g protein, 220 kcal logged
```

### 8.2 Strategy 2: State-Specific Entries (Alternative)

**Principle:** Maintain separate database entries for every food state (raw, grilled, boiled, roasted, etc.).

**Advantages:**
- ✅ Allows tracking at any cooking stage
- ✅ Accommodates restaurant meals
- ✅ Reflects actual nutrient losses from cooking

**Disadvantages:**
- ❌ Requires massive database (each food × cooking methods)
- ❌ Users must correctly identify cooking method
- ❌ Still requires users to know which entry matches their food

**Implementation:**

1. **Expanded database:**
   - Chicken breast, raw
   - Chicken breast, grilled
   - Chicken breast, baked
   - Chicken breast, poached
   - Chicken breast, pan-fried

2. **Clear labeling:**
   - "Chicken breast, grilled (nutrition per 100g cooked weight)"
   - Include weight conversion: "100g cooked = ~133g raw"

3. **Search optimization:**
   - If user searches "chicken breast," ask: "Is your chicken breast raw or cooked? If cooked, how was it prepared?"

**Example Workflow:**

```
User: "I ate grilled chicken at a restaurant"
App: "How much cooked chicken did you eat?"
User: "About 150g cooked"
App: "Select: Chicken breast, grilled (per 100g cooked)"
User: *logs 150g*
Result: 46.5g protein, 186 kcal logged (using cooked data: 31g protein, 124 kcal per 100g cooked)
```

### 8.3 Strategy 3: Hybrid Approach (Best of Both Worlds)

**Principle:** Default to raw weight tracking, but support cooked weight with conversion.

**Implementation:**

1. **Primary database entries:** Raw foods with comprehensive nutrition data

2. **Conversion factors built-in:**
   - Each food has associated cooking yield factors
   - User can toggle: "I weighed this cooked" → App applies conversion factor

3. **Smart detection:**
   - If user logs "pasta" 100g, app asks: "Is this dry or cooked?"
   - Based on answer, applies correct data

4. **Restaurant mode:**
   - Separate workflow for "eating out"
   - Defaults to cooked weights with appropriate database entries

**Example Workflow:**

```
User: "I'm logging my lunch: chicken breast"
App: "Did you weigh it raw or cooked?"
User: "Cooked"
App: "How much cooked chicken? And how was it cooked?"
User: "150g, grilled"
App: *applies conversion factor 0.75*
App: *calculates 150g ÷ 0.75 = 200g raw equivalent*
App: *logs 200g raw chicken breast nutrition*
Result: 62g protein, 220 kcal logged
```

### 8.4 Strategy 4: Component-Based Recipe Tracking

**Principle:** Users build meals from raw ingredients, and the system calculates cooked meal nutrition.

**Implementation:**

1. **Recipe builder:**
   - User inputs all raw ingredients with raw weights
   - Example: 300g raw chicken breast, 50g olive oil, 200g vegetables
   - System calculates total nutrition from raw data

2. **Portion division:**
   - User specifies number of portions (e.g., 3 servings)
   - System divides total nutrition by portions
   - Each portion = 1/3 of total nutrition

3. **Key advantage:**
   - Doesn't matter how much water is lost during cooking
   - Total nutrition is based on raw inputs
   - Portions are approximate servings of cooked food

**Example Workflow:**

```
User: "I'm making grilled chicken for the week"
User adds to recipe:
  - 600g chicken breast, raw
  - 30g olive oil
  - Spices (negligible calories)

System calculates:
  - Total: 1,452 kcal, 138g protein, 30g fat

User: "This makes 4 portions"
System: "Each portion = 363 kcal, 34.5g protein, 7.5g fat"

Later: User logs "1 portion chicken meal" → 363 kcal logged
```

### 8.5 Strategy 5: AI-Assisted State Detection

**Principle:** Use machine learning to detect food state from images and context.

**Implementation:**

1. **Photo analysis:**
   - User takes photo of food
   - AI detects: "This appears to be cooked chicken breast, grilled"
   - AI estimates portion size from visual cues
   - App suggests: "~150g cooked chicken breast, grilled"

2. **Context clues:**
   - Location: "At restaurant" → Assume cooked
   - Time of day: "Logging breakfast oatmeal" → Likely cooked
   - Food type: "Pasta" → Ask if dry or cooked

3. **Learning from user patterns:**
   - User typically weighs raw → Default to raw entries
   - User mostly eats out → Default to cooked entries

**Challenges:**
- Requires sophisticated AI/ML models
- Privacy concerns with photo analysis
- May still require user confirmation

---

## 9. Database Design Recommendations

### 9.1 Minimum Required Fields for Each Food Entry

```yaml
id: chicken_breast_raw_v1
name: "Chicken Breast, Raw"
state: raw  # CRITICAL FIELD
cooking_method: null  # null for raw foods
portion:
  reference_weight_g: 100  # Standardize to 100g for easy scaling
  state_at_weighing: raw  # Explicitly state
  description: "Boneless, skinless, raw"
nutrition:
  # per 100g raw weight
  energy_kcal: 110
  protein_g: 23.0
  fat_g: 1.2
  # ... all other nutrients
yield_factors:  # NEW SECTION
  grilled: 0.75  # 100g raw → 75g cooked
  baked: 0.75
  poached: 0.85
  pan_fried: 0.70
nutrient_retention:  # NEW SECTION
  # Multiply raw nutrient by retention factor for cooked
  vitamin_c: 0.85  # 85% retained when cooked
  folate: 0.80
  # Stable nutrients = 1.0 (no loss)
notes: "Yield factors assume discarding any rendered fat or juices"
```

### 9.2 Dual Entry System (Raw + Cooked)

**Option A: Create pairs of entries**

```
chicken_breast_raw_v1:
  name: "Chicken Breast, Raw"
  state: raw
  weight_g: 100
  protein_g: 23.0

chicken_breast_grilled_v1:
  name: "Chicken Breast, Grilled"
  state: cooked
  cooking_method: grilled
  weight_g: 100  # Note: Per 100g COOKED weight
  protein_g: 30.7  # Concentrated due to water loss
  derived_from: chicken_breast_raw_v1
  raw_equivalent_multiplier: 1.33  # 100g cooked = 133g raw
```

**User logs:** "100g grilled chicken breast" → 30.7g protein
**Equivalent to:** "133g raw chicken breast" → 30.7g protein

### 9.3 Conversion Factor Database

**Standalone table of yield factors:**

| food_id | cooking_method | raw_to_cooked_multiplier | notes |
|---------|---------------|-------------------------|--------|
| chicken_breast | grilled | 0.75 | 25% weight loss |
| chicken_breast | poached | 0.85 | 15% weight loss |
| pasta_white | boiled_al_dente | 2.25 | 125% weight gain |
| pasta_white | boiled_normal | 2.50 | 150% weight gain |
| rice_white | boiled | 3.00 | 200% weight gain |

**Application:**

When user logs cooked food:
1. Look up conversion factor
2. Convert cooked weight → raw equivalent
3. Apply raw nutrition data
4. Log result

### 9.4 "Refuse" Field for Waste

**USDA includes "refuse" percentage for whole foods:**

```yaml
banana_whole_with_peel_v1:
  name: "Banana, whole, with peel"
  refuse_pct: 36  # 36% of total weight is peel (waste)
  edible_pct: 64
  nutrition:
    # Per 100g EDIBLE PORTION (peel removed)
    energy_kcal: 89
    protein_g: 1.1
```

**User logs:** "150g whole banana" → System calculates 150g × 0.64 = 96g edible → Logs 96g banana nutrition

**Recommendation:** Always specify whether nutrition data is per:
- "Total weight including refuse" OR
- "Edible portion only (refuse removed)"

---

## 10. User Education and Interface Design

### 10.1 Onboarding Tutorial

**Teach users the golden rule:**

> "Always weigh your food BEFORE cooking. If you must weigh after cooking, select the 'cooked' option and specify cooking method."

**Visual guide:**

- ✅ **Correct:** *Image of raw chicken on scale* → "Weigh raw: 200g chicken breast"
- ❌ **Incorrect:** *Image of grilled chicken on scale* → "Don't weigh cooked and log as raw"
- ✅ **Alternative:** *Image of grilled chicken on scale* → "If weighing cooked, select 'cooked, grilled'"

### 10.2 In-App Prompts

**When user searches for food:**

```
User searches: "chicken breast"
App asks: "How do you want to log this?"
Options:
  [ ] Raw (before cooking)
  [ ] Cooked (after cooking)

If "Cooked" selected:
  "How was it cooked?"
  [ ] Grilled
  [ ] Baked
  [ ] Poached
  [ ] Pan-fried
  [ ] Other
```

### 10.3 Warning System

**Detect suspicious entries:**

```
User logs: "300g cooked pasta"
App calculates: "That's ~750 kcal if cooked, or 1,050 kcal if dry pasta"
App warns: "⚠️ Did you weigh this cooked or dry?"
  [ ] Cooked (750 kcal)
  [ ] Dry (1,050 kcal)
```

**Common suspicious patterns:**
- High-weight grains (likely cooked, logged as dry)
- Low-weight meat (likely cooked, logged as raw)
- Inconsistent day-to-day patterns

### 10.4 Quick Reference Charts

**Provide in-app conversion charts:**

"Cooked Weight → Raw Equivalent"

| Food | Cooked Weight | Raw Equivalent |
|------|--------------|----------------|
| Chicken breast (grilled) | 100g | 133g |
| Pasta (boiled) | 100g | 40g |
| Rice (boiled) | 100g | 33g |
| Salmon (baked) | 100g | 125g |

"Dry Weight → Cooked Equivalent"

| Food | Dry Weight | Cooked Equivalent |
|------|-----------|------------------|
| Pasta | 100g | 240g |
| Rice | 100g | 300g |
| Oats | 50g | 140g |
| Lentils | 100g | 230g |

---

## 11. Special Cases and Edge Cases

### 11.1 Batch Cooking

**Scenario:** User cooks 500g raw chicken, stores in fridge, eats portions over several days.

**Challenge:** By day 3, user no longer knows how much it weighed raw.

**Solution:**

**Option A: Recipe/Batch Mode**
```
Day 1: User creates "Batch: Grilled Chicken"
  - 500g chicken breast, raw
  - 20g olive oil
  - Spices
  Total: 755 kcal, 115g protein

System: "How many portions?" → User: "5"
System: "Each portion = 151 kcal, 23g protein"

Day 3: User logs "1 portion Grilled Chicken" → 151 kcal
```

**Option B: Post-Cooking Weight**
```
User weighs entire batch after cooking: 400g cooked
System calculates from raw inputs: 755 kcal total
User portion: 100g cooked (25% of batch)
System logs: 25% of 755 kcal = 189 kcal
```

### 11.2 Restaurant Meals

**Challenge:** User has no idea of raw weight or cooking method details.

**Solution:**

**Option A: Visual Estimation**
- App provides reference images: "Small (100g), Medium (150g), Large (200g)"
- User selects closest match
- App uses average cooked nutrition data

**Option B: Volume Estimation**
- "Approximately how much chicken? (in cups or visual comparison)"
- 1 cup diced cooked chicken ≈ 140g
- 1 palm-sized chicken breast ≈ 150g cooked

**Option C: Platform Integration**
- Pull nutrition directly from Deliveroo/Uber Eats if available
- These platforms typically provide "as served" nutrition (cooked state)

### 11.3 Mixed Dishes (Stews, Casseroles)

**Challenge:** Water may be added or evaporated; ingredients cooked together.

**Solution:**

**Recipe-Based Approach (Recommended):**
1. User enters all raw ingredients
2. System calculates total nutrition
3. User divides by portions
4. Doesn't matter how much water is absorbed/evaporated

**Example:**

```
Recipe: Beef Stew
  - 400g beef chuck, raw
  - 200g potatoes, raw
  - 100g carrots, raw
  - 500ml beef broth
  - 30g oil

Total nutrition: 1,680 kcal, 120g protein, 50g carbs
Yields: 4 servings
Per serving: 420 kcal, 30g protein, 12.5g carbs
```

User logs "1 serving beef stew" regardless of water absorbed.

### 11.4 Fried Foods (Oil Absorption)

**Challenge:** Foods absorb oil during frying; amount varies by method.

**Oil Absorption Estimates:**

| Food | Frying Method | Oil Absorbed | Example |
|------|--------------|--------------|---------|
| Potato (French fries) | Deep-fried | 5-8% of weight | 100g potatoes → 5-8g oil absorbed |
| Chicken (battered) | Deep-fried | 8-12% of weight | 100g chicken → 8-12g oil absorbed |
| Tofu | Pan-fried | 2-4% of weight | 100g tofu → 2-4g oil absorbed |

**Recommendation:**

- Include oil absorption in database entries for fried foods
- Example: "Chicken breast, battered, deep-fried" includes typical oil absorption
- Alternatively: User manually adds absorbed oil estimate

### 11.5 Canned vs Home-Cooked

**Canned beans example:**

**Home-cooked beans from dry:**
- 100g dry kidney beans → 300g cooked
- Track by dry weight (raw state)

**Canned beans:**
- Already cooked
- Packed in liquid (40% liquid, 60% beans)
- Track by drained weight

**Database should have separate entries:**
- "Kidney beans, dry" (100g = 330 kcal)
- "Kidney beans, cooked from dry" (100g cooked = 110 kcal)
- "Kidney beans, canned, drained" (100g drained = 110 kcal)

---

## 12. Summary: Key Principles for Nutrition Tracking Systems

### 12.1 The Five Commandments

1. **Track raw weights by default**
   - Most accurate, eliminates cooking method variability
   - Aligns with USDA standards and nutrition labels

2. **Always specify food state in database entries**
   - Label every entry as "raw," "cooked," "grilled," "boiled," etc.
   - Never assume users know whether data is raw or cooked

3. **Provide conversion factors for cooked → raw**
   - Allow users to log cooked foods by converting to raw equivalent
   - Eliminates need for massive duplicate database

4. **Educate users relentlessly**
   - Tutorial on raw vs cooked weighing
   - In-app prompts: "Did you weigh this raw or cooked?"
   - Warning system for suspicious entries

5. **Support both home cooking and eating out**
   - Recipe builder for home-cooked meals (raw inputs)
   - Direct logging for restaurant meals (cooked estimates)

### 12.2 Critical Conversion Factor Summary

**Proteins (Raw → Cooked):**
- Chicken breast (grilled): ×0.75 (25% loss)
- Beef steak (grilled): ×0.70 (30% loss)
- Fish fillet (baked): ×0.80 (20% loss)
- Ground beef: ×0.65-0.73 (27-35% loss)
- Bacon: ×0.45 (55% loss, includes fat rendering)

**Grains (Dry → Cooked):**
- Pasta: ×2.25-2.50 (125-150% gain)
- White rice: ×3.00 (200% gain)
- Brown rice: ×2.50 (150% gain)
- Oats: ×2.75 (175% gain)
- Quinoa: ×3.25 (225% gain)

**Legumes (Dry → Cooked):**
- Kidney beans: ×3.00 (200% gain)
- Chickpeas: ×2.20 (120% gain)
- Lentils: ×2.10-2.35 (110-135% gain)
- Black beans: ×2.50 (150% gain)

**Vegetables (Raw → Cooked):**
- Spinach (sautéed): ×0.20 (80% loss)
- Broccoli (roasted): ×0.80 (20% loss)
- Mushrooms (sautéed): ×0.55 (45% loss)
- Zucchini (roasted): ×0.70 (30% loss)

### 12.3 Waste/Refuse Factors

**Bone-in meats:**
- Chicken thigh (bone-in): 70% edible
- Chicken drumstick: 65% edible
- Pork chop (bone-in): 85% edible

**Fruits with peel/pit:**
- Banana: 65% edible (35% peel)
- Avocado: 75% edible (25% skin + pit)
- Mango: 70% edible (30% skin + pit)

**Canned foods (drained):**
- Beans/legumes: 60% solids, 40% liquid
- Tuna in water: 70% fish, 30% water

### 12.4 When to Use Raw vs Cooked Data

**Use RAW data when:**
- ✅ Cooking at home and can weigh before cooking
- ✅ Building recipes from ingredients
- ✅ Tracking meal prep portions
- ✅ Aiming for maximum accuracy

**Use COOKED data when:**
- ✅ Eating restaurant/takeout food
- ✅ Reheating leftovers (original raw weight unknown)
- ✅ Someone else cooked the food
- ✅ Batch-cooked food stored and portioned after cooking

### 12.5 System Architecture Recommendation

**Three-Tier Approach:**

**Tier 1: Raw Foods Database (Foundation)**
- All whole foods in raw state
- Comprehensive nutrition data
- Yield factors for common cooking methods

**Tier 2: Cooked Foods Database (Convenience)**
- Pre-calculated cooked nutrition data
- Links back to raw equivalent
- Specified cooking method

**Tier 3: Recipes/Meals Database (Practical)**
- User-created or curated recipes
- Built from raw ingredients
- Portioned by servings (cooked state)

**Flow:**

```
Home Cooking:
  User weighs raw ingredients → Logs to Tier 1 (raw database) → Most accurate

Recipe Building:
  User builds recipe from Tier 1 → System calculates total → Divides by portions → Tier 3 entry

Restaurant/Takeout:
  User estimates cooked portion → Logs to Tier 2 (cooked database) → Reasonably accurate

Conversion Helper:
  User weighs cooked → System converts to raw equivalent using yield factors → Logs to Tier 1
```

---

## 13. Implementation Recommendations for This Nutrition Tracking System

### 13.1 Current State Analysis

Based on the codebase review, the current system:

1. **Stores nutrition per portion** (`per_portion` block in YAML files)
2. **Often omits explicit state** (raw vs cooked)
3. **Specifies portion weight** (`est_weight_g`) but not always the state at weighing
4. **Uses venue-specific entries** (e.g., Simple Health Kitchen dishes)

**Gaps Identified:**

- ❌ No explicit `state` field (raw/cooked/grilled/etc.)
- ❌ No `yield_factors` for conversion
- ❌ No `refuse_percentage` for bone-in/peel-on foods
- ❌ Ambiguity: "grilled salmon fillet" - is nutrition per raw or cooked weight?

### 13.2 Proposed Schema Enhancements

**Add to food YAML schema:**

```yaml
id: grilled_salmon_fillet_shk_v1
# ... existing fields ...
portion:
  description: grilled salmon fillet
  est_weight_g: 150  # CLARIFY: Is this raw or cooked weight?
  state_at_weighing: cooked  # NEW FIELD
  cooking_method: grilled  # NEW FIELD
  notes: assume skin-on unless specified; lightly oiled; normal salt

# NEW SECTION: Conversion factors
yield:
  raw_to_cooked_multiplier: 0.80  # 100g raw → 80g cooked
  raw_equivalent_g: 188  # This 150g cooked = 188g raw

# NEW SECTION: Waste factors (if applicable)
refuse:
  percentage: 0  # 0% for boneless, skinless fillet
  description: null

per_portion:
  # Nutrition is per 150g COOKED salmon (as specified in state_at_weighing)
  energy_kcal: 260
  protein_g: 28.0
  # ...
```

**Benefits:**

1. **Eliminates ambiguity:** Users know whether `est_weight_g` is raw or cooked
2. **Enables conversion:** If user weighs differently than database, app can convert
3. **Improves accuracy:** Explicit yield factors based on research
4. **Future-proofs:** System can expand to support conversion calculator

### 13.3 Migration Path for Existing Entries

**Phase 1: Add fields to schema (optional/nullable)**

```yaml
portion:
  state_at_weighing: null  # To be filled
  cooking_method: null  # To be filled
yield:
  raw_to_cooked_multiplier: null  # To be filled
```

**Phase 2: Populate fields for new entries**

All new dishes must include:
- `state_at_weighing`: raw, cooked, grilled, baked, etc.
- `cooking_method`: if cooked
- `yield.raw_to_cooked_multiplier`: if cooked

**Phase 3: Backfill existing entries**

Use automated script + manual review:
- If dish name includes "grilled," "roasted," "baked" → `state_at_weighing: cooked`
- If venue is restaurant → Likely `cooked`
- If entry is raw ingredient → `state_at_weighing: raw`

**Phase 4: Validation**

Update `validate_data_bank.py` to check:
- `state_at_weighing` is not null
- If `state_at_weighing: cooked`, then `cooking_method` must be specified
- If `cooking_method` is specified, `yield.raw_to_cooked_multiplier` should be present

### 13.4 User-Facing Features

**Feature 1: State Clarification in UI**

When displaying a dish:

```
Grilled Salmon Fillet (Simple Health Kitchen)
260 kcal | 28g protein | 16g fat

Nutrition shown per: 150g COOKED (grilled)
Raw equivalent: ~188g raw salmon
```

**Feature 2: Conversion Calculator**

```
User logs: "I weighed my salmon after cooking: 150g"
App suggests: "Grilled Salmon Fillet (SHK) - 150g cooked"
OR
App: "Want to log by raw weight? That's ~188g raw. [Switch to raw entry]"
```

**Feature 3: Smart Detection**

```
User searches: "chicken breast"
App: "Are you logging raw chicken or cooked?"
  [ ] Raw (before cooking)
  [ ] Cooked - grilled
  [ ] Cooked - baked
  [ ] Cooked - poached
```

### 13.5 Recommendations for Simple Health Kitchen (SHK) Dishes

**Current Challenge:** SHK dishes are cooked when served. The `est_weight_g` likely represents the as-served (cooked) weight, but this isn't explicit.

**Recommendation:**

**Update all SHK dishes:**

```yaml
id: lemon_herb_chicken_breast_shk_v1
portion:
  description: grilled chicken breast
  est_weight_g: 150  # This is likely cooked weight as served
  state_at_weighing: cooked  # CLARIFY
  cooking_method: grilled  # CLARIFY
  notes: lemon & herb marinade; normal salt; as served at restaurant

yield:
  raw_to_cooked_multiplier: 0.75  # Typical for grilled chicken
  raw_equivalent_g: 200  # 150g cooked ≈ 200g raw

per_portion:
  # Nutrition per 150g COOKED chicken as served
  energy_kcal: 161.1
  protein_g: 36
  # ...
```

**For ingredients like "Oats, dry":**

Already correct! `est_weight_g: 50` with notes "Dry rolled oats" clearly indicates `state_at_weighing: raw`.

### 13.6 Extend `ESTIMATE.md` Guidance

**Add section:**

```markdown
## Raw vs Cooked Weight Specification

**REQUIRED for all dishes:**

1. **Specify food state:** Every dish must clearly indicate whether nutrition data and `est_weight_g` represent:
   - Raw (uncooked, as purchased)
   - Cooked (and specify method: grilled, baked, roasted, steamed, etc.)

2. **Add conversion factors:** For cooked foods, include:
   - `yield.raw_to_cooked_multiplier`: e.g., 0.75 for grilled chicken (25% loss)
   - `yield.raw_equivalent_g`: e.g., 150g cooked = 200g raw

3. **Use research data:** Refer to `WEIGHT_WATER_CONTENT_CHANGES_FOOD_PREPARATION_ANALYSIS.md` for standard yield factors

4. **Document assumptions:** In `notes`, clarify:
   - "Nutrition per 150g cooked salmon as served"
   - "Weight is pre-cooking raw weight"
   - "Assumes drippings discarded" (for meats with fat rendering)
```

---

## 14. Future Research Opportunities

### 14.1 Expand Yield Factor Database

**Current study covers major food groups. Future research should include:**

- Specific vegetable varieties (e.g., different potato types, root vegetables)
- Sous vide cooking (minimal water loss)
- Pressure cooking (affects legume yield)
- Air frying vs deep frying (different oil absorption)
- Slow cooking (extended moisture retention)
- Steaming vs microwaving vegetables

### 14.2 Regional and Cultural Variations

- Asian cooking methods (wok stir-frying, steaming)
- Mediterranean roasting techniques
- Latin American pressure cooking
- Nordic preservation methods

### 14.3 Nutrient Retention Studies

- Expand beyond USDA data
- Investigate modern cooking appliances (Instant Pot, air fryer, sous vide)
- Polyphenol retention in vegetables
- Omega-3 degradation in high-heat fish cooking

### 14.4 User Behavior Research

- Survey: How do users actually weigh food?
- A/B testing: Raw vs cooked tracking adherence
- Error analysis: Where do users make mistakes?
- Optimal UI design for state selection

---

## 15. Conclusion

Weight and water content changes during food preparation are **the single largest source of error** in nutrition tracking systems. The core nutrients (protein, fat, carbs, minerals) remain constant, but water weight changes dramatically—meaning the same food can have vastly different nutrient densities per gram depending on preparation.

**The solution is not complex, but it requires discipline:**

1. **Track raw weights whenever possible** (eliminates variability)
2. **Always specify food state in databases** (raw vs cooked)
3. **Provide conversion factors** (enable users to log either way)
4. **Educate users consistently** (make raw vs cooked tracking intuitive)
5. **Support both meal prep and dining out** (flexibility increases adherence)

By implementing these recommendations, nutrition tracking systems can **dramatically improve accuracy** while remaining user-friendly. The conversion factors provided in this report serve as a foundation for building robust, reliable nutrition databases.

**For the nutrition-tracking system codebase:**

- **Immediate action:** Add `state_at_weighing` and `cooking_method` fields to schema
- **Short-term:** Backfill existing entries with state clarification
- **Long-term:** Build conversion calculator and smart detection features

---

## References and Data Sources

1. **USDA Agricultural Research Service** - Nutrient Retention Factors Release 6 (2007)
   - https://www.ars.usda.gov/northeast-area/beltsville-md-bhnrc/beltsville-human-nutrition-research-center/methods-and-application-of-food-composition-laboratory/mafcl-site-pages/nutrient-retention-factors/

2. **USDA FoodData Central** - Comprehensive nutrition database
   - https://fdc.nal.usda.gov/

3. **Weight Watchers** - Raw to Cooked Meat Conversion Guide
   - https://www.weightwatchers.com/us/blog/food/raw-to-cooked-meat-conversion

4. **FAO (Food and Agriculture Organization)** - Weight Yield and Retention Factors
   - https://www.fao.org/uploads/media/bognar_bfe-r-02-03.pdf

5. **USDA Cooking Yields for Meat and Poultry**
   - https://www.ars.usda.gov/ARSUserFiles/80400525/data/retn/usda_cookingyields_meatpoultry.pdf

6. **Research Literature:**
   - "Weight change of food after cooking: focus on the Italian Food Composition Tables appendix" - ScienceDirect
   - "Effect of different cooking methods on the content of vitamins and true retention in selected vegetables" - PMC/NCBI
   - "Impact of Three Different Dehydration Methods on Nutritional Values" - PMC/NCBI

7. **Nutrition Tracking Best Practices:**
   - FitHackr - "Weighing Food Raw vs Cooked when Tracking Macros"
   - Working Against Gravity - "Should I Weigh Food Before or After Cooking?"
   - Modus Energy - "Raw vs. Cooked Food Measurement"

8. **Food Standards Australia New Zealand** - Weight Change Factors
   - https://www.foodstandards.gov.au/business/labelling/nutrition-panel-calculator/weight-change-factors

---

**Report compiled:** 2025-11-06
**Researched by:** Claude Code (Sonnet 4.5)
**For:** /home/user/nutrition-tracking project

---

*This analysis provides comprehensive conversion factors and system design recommendations. Implementation should prioritize user education, database clarity, and flexible tracking methods to accommodate both home cooking and dining out scenarios.*
